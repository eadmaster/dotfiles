#!/bin/sh

#export MAGIC=... # defaults to $HOME/.magic

#extractrun file "$@"
#_ES=$? ; [ $_ES -ne 127 ] && exit $_ES

command -p file "$@"
_ES=$? ; [ $_ES -ne 127 ] && exit $_ES

# else pure shell-script alternative
if [ -z "$1" ] || [ "$1" = "-h" ] || [ "$1" = "--help" ]; then
	echo "usage: $(basename $0) [-b] INPUT_FILE"
	echo
	exit 0
fi

BRIEF_MODE=OFF
#MIME_MODE=OFF
for ARG in "$@"; do
	if [ -f "$ARG" ]; then
		INPUTFILE="$ARG"
		break
	fi
	[ "$ARG" = "-b" ] && BRIEF_MODE=ON
	#[ "$ARG" = "-i" ] && MIME_MODE=ON
done

# TODO: check headers instead
INPUTFILEEXT=$( echo -n "$INPUTFILE" | rev | cut -d'.' -f1 | rev )
INPUTFILEEXT=$( echo -n $INPUTFILEEXT | tr '[A-Z]' '[a-z]' ) # force lowercase extension
case $INPUTFILEEXT in
	# MEMO: list generated with  awk -F"\t" '{if($2!=""){gsub(/ /,"|",$2); print "\t", $2 , ") echo \"", $1, "\""}}'  mime_apache.types 
	ez )  MIMETYPE="application/andrew-inset"  ;;
	aw )  MIMETYPE="application/applixware"  ;;
	atom )  MIMETYPE="application/atom+xml"  ;;
	atomcat )  MIMETYPE="application/atomcat+xml"  ;;
	atomsvc )  MIMETYPE="application/atomsvc+xml"  ;;
	ccxml )  MIMETYPE="application/ccxml+xml"  ;;
	cdmia )  MIMETYPE="application/cdmi-capability"  ;;
	cdmic )  MIMETYPE="application/cdmi-container"  ;;
	cdmid )  MIMETYPE="application/cdmi-domain"  ;;
	cdmio )  MIMETYPE="application/cdmi-object"  ;;
	cdmiq )  MIMETYPE="application/cdmi-queue"  ;;
	cu )  MIMETYPE="application/cu-seeme"  ;;
	davmount )  MIMETYPE="application/davmount+xml"  ;;
	dbk )  MIMETYPE="application/docbook+xml"  ;;
	dssc )  MIMETYPE="application/dssc+der"  ;;
	xdssc )  MIMETYPE="application/dssc+xml"  ;;
	ecma )  MIMETYPE="application/ecmascript"  ;;
	emma )  MIMETYPE="application/emma+xml"  ;;
	epub )  MIMETYPE="application/epub+zip"  ;;
	exi )  MIMETYPE="application/exi"  ;;
	pfr )  MIMETYPE="application/font-tdpfr"  ;;
	woff )  MIMETYPE="application/font-woff"  ;;
	gml )  MIMETYPE="application/gml+xml"  ;;
	gpx )  MIMETYPE="application/gpx+xml"  ;;
	gxf )  MIMETYPE="application/gxf"  ;;
	stk )  MIMETYPE="application/hyperstudio"  ;;
	ink|inkml )  MIMETYPE="application/inkml+xml"  ;;
	ipfix )  MIMETYPE="application/ipfix"  ;;
	jar )  MIMETYPE="application/java-archive"  ;;
	ser )  MIMETYPE="application/java-serialized-object"  ;;
	class )  MIMETYPE="application/java-vm"  ;;
	js )  MIMETYPE="application/javascript"  ;;
	json )  MIMETYPE="application/json"  ;;
	jsonml )  MIMETYPE="application/jsonml+json"  ;;
	lostxml )  MIMETYPE="application/lost+xml"  ;;
	hqx )  MIMETYPE="application/mac-binhex40"  ;;
	cpt )  MIMETYPE="application/mac-compactpro"  ;;
	mads )  MIMETYPE="application/mads+xml"  ;;
	mrc )  MIMETYPE="application/marc"  ;;
	mrcx )  MIMETYPE="application/marcxml+xml"  ;;
	ma|nb|mb )  MIMETYPE="application/mathematica"  ;;
	mathml )  MIMETYPE="application/mathml+xml"  ;;
	mbox )  MIMETYPE="application/mbox"  ;;
	mscml )  MIMETYPE="application/mediaservercontrol+xml"  ;;
	metalink )  MIMETYPE="application/metalink+xml"  ;;
	meta4 )  MIMETYPE="application/metalink4+xml"  ;;
	mets )  MIMETYPE="application/mets+xml"  ;;
	mods )  MIMETYPE="application/mods+xml"  ;;
	m21|mp21 )  MIMETYPE="application/mp21"  ;;
	mp4s )  MIMETYPE="application/mp4"  ;;
	doc|dot )  MIMETYPE="application/msword"  ;;
	mxf )  MIMETYPE="application/mxf"  ;;
	oda )  MIMETYPE="application/oda"  ;;
	opf )  MIMETYPE="application/oebps-package+xml"  ;;
	ogx )  MIMETYPE="application/ogg"  ;;
	omdoc )  MIMETYPE="application/omdoc+xml"  ;;
	onetoc|onetoc2|onetmp|onepkg )  MIMETYPE="application/onenote"  ;;
	oxps )  MIMETYPE="application/oxps"  ;;
	xer )  MIMETYPE="application/patch-ops-error+xml"  ;;
	pdf )  MIMETYPE="application/pdf"  ;;
	pgp )  MIMETYPE="application/pgp-encrypted"  ;;
	asc|sig )  MIMETYPE="application/pgp-signature"  ;;
	prf )  MIMETYPE="application/pics-rules"  ;;
	p10 )  MIMETYPE="application/pkcs10"  ;;
	p7m|p7c )  MIMETYPE="application/pkcs7-mime"  ;;
	p7s )  MIMETYPE="application/pkcs7-signature"  ;;
	p8 )  MIMETYPE="application/pkcs8"  ;;
	ac )  MIMETYPE="application/pkix-attr-cert"  ;;
	cer )  MIMETYPE="application/pkix-cert"  ;;
	crl )  MIMETYPE="application/pkix-crl"  ;;
	pkipath )  MIMETYPE="application/pkix-pkipath"  ;;
	pki )  MIMETYPE="application/pkixcmp"  ;;
	pls )  MIMETYPE="application/pls+xml"  ;;
	ai|eps|ps )  MIMETYPE="application/postscript"  ;;
	cww )  MIMETYPE="application/prs.cww"  ;;
	pskcxml )  MIMETYPE="application/pskc+xml"  ;;
	rdf )  MIMETYPE="application/rdf+xml"  ;;
	rif )  MIMETYPE="application/reginfo+xml"  ;;
	rnc )  MIMETYPE="application/relax-ng-compact-syntax"  ;;
	rl )  MIMETYPE="application/resource-lists+xml"  ;;
	rld )  MIMETYPE="application/resource-lists-diff+xml"  ;;
	rs )  MIMETYPE="application/rls-services+xml"  ;;
	gbr )  MIMETYPE="application/rpki-ghostbusters"  ;;
	mft )  MIMETYPE="application/rpki-manifest"  ;;
	roa )  MIMETYPE="application/rpki-roa"  ;;
	rsd )  MIMETYPE="application/rsd+xml"  ;;
	rss )  MIMETYPE="application/rss+xml"  ;;
	rtf )  MIMETYPE="application/rtf"  ;;
	sbml )  MIMETYPE="application/sbml+xml"  ;;
	scq )  MIMETYPE="application/scvp-cv-request"  ;;
	scs )  MIMETYPE="application/scvp-cv-response"  ;;
	spq )  MIMETYPE="application/scvp-vp-request"  ;;
	spp )  MIMETYPE="application/scvp-vp-response"  ;;
	sdp )  MIMETYPE="application/sdp"  ;;
	setpay )  MIMETYPE="application/set-payment-initiation"  ;;
	setreg )  MIMETYPE="application/set-registration-initiation"  ;;
	shf )  MIMETYPE="application/shf+xml"  ;;
	smi|smil )  MIMETYPE="application/smil+xml"  ;;
	rq )  MIMETYPE="application/sparql-query"  ;;
	srx )  MIMETYPE="application/sparql-results+xml"  ;;
	gram )  MIMETYPE="application/srgs"  ;;
	grxml )  MIMETYPE="application/srgs+xml"  ;;
	sru )  MIMETYPE="application/sru+xml"  ;;
	ssdl )  MIMETYPE="application/ssdl+xml"  ;;
	ssml )  MIMETYPE="application/ssml+xml"  ;;
	tei|teicorpus )  MIMETYPE="application/tei+xml"  ;;
	tfi )  MIMETYPE="application/thraud+xml"  ;;
	tsd )  MIMETYPE="application/timestamped-data"  ;;
	plb )  MIMETYPE="application/vnd.3gpp.pic-bw-large"  ;;
	psb )  MIMETYPE="application/vnd.3gpp.pic-bw-small"  ;;
	pvb )  MIMETYPE="application/vnd.3gpp.pic-bw-var"  ;;
	tcap )  MIMETYPE="application/vnd.3gpp2.tcap"  ;;
	pwn )  MIMETYPE="application/vnd.3m.post-it-notes"  ;;
	aso )  MIMETYPE="application/vnd.accpac.simply.aso"  ;;
	imp )  MIMETYPE="application/vnd.accpac.simply.imp"  ;;
	acu )  MIMETYPE="application/vnd.acucobol"  ;;
	atc|acutc )  MIMETYPE="application/vnd.acucorp"  ;;
	air )  MIMETYPE="application/vnd.adobe.air-application-installer-package+zip"  ;;
	fcdt )  MIMETYPE="application/vnd.adobe.formscentral.fcdt"  ;;
	fxp|fxpl )  MIMETYPE="application/vnd.adobe.fxp"  ;;
	xdp )  MIMETYPE="application/vnd.adobe.xdp+xml"  ;;
	xfdf )  MIMETYPE="application/vnd.adobe.xfdf"  ;;
	ahead )  MIMETYPE="application/vnd.ahead.space"  ;;
	azf )  MIMETYPE="application/vnd.airzip.filesecure.azf"  ;;
	azs )  MIMETYPE="application/vnd.airzip.filesecure.azs"  ;;
	azw )  MIMETYPE="application/vnd.amazon.ebook"  ;;
	acc )  MIMETYPE="application/vnd.americandynamics.acc"  ;;
	ami )  MIMETYPE="application/vnd.amiga.ami"  ;;
	apk )  MIMETYPE="application/vnd.android.package-archive"  ;;
	cii )  MIMETYPE="application/vnd.anser-web-certificate-issue-initiation"  ;;
	fti )  MIMETYPE="application/vnd.anser-web-funds-transfer-initiation"  ;;
	atx )  MIMETYPE="application/vnd.antix.game-component"  ;;
	mpkg )  MIMETYPE="application/vnd.apple.installer+xml"  ;;
	m3u8 )  MIMETYPE="application/vnd.apple.mpegurl"  ;;
	swi )  MIMETYPE="application/vnd.aristanetworks.swi"  ;;
	iota )  MIMETYPE="application/vnd.astraea-software.iota"  ;;
	aep )  MIMETYPE="application/vnd.audiograph"  ;;
	mpm )  MIMETYPE="application/vnd.blueice.multipass"  ;;
	bmi )  MIMETYPE="application/vnd.bmi"  ;;
	rep )  MIMETYPE="application/vnd.businessobjects"  ;;
	cdxml )  MIMETYPE="application/vnd.chemdraw+xml"  ;;
	mmd )  MIMETYPE="application/vnd.chipnuts.karaoke-mmd"  ;;
	cdy )  MIMETYPE="application/vnd.cinderella"  ;;
	cla )  MIMETYPE="application/vnd.claymore"  ;;
	rp9 )  MIMETYPE="application/vnd.cloanto.rp9"  ;;
	c4g|c4d|c4f|c4p|c4u )  MIMETYPE="application/vnd.clonk.c4group"  ;;
	c11amc )  MIMETYPE="application/vnd.cluetrust.cartomobile-config"  ;;
	c11amz )  MIMETYPE="application/vnd.cluetrust.cartomobile-config-pkg"  ;;
	csp )  MIMETYPE="application/vnd.commonspace"  ;;
	cdbcmsg )  MIMETYPE="application/vnd.contact.cmsg"  ;;
	cmc )  MIMETYPE="application/vnd.cosmocaller"  ;;
	clkx )  MIMETYPE="application/vnd.crick.clicker"  ;;
	clkk )  MIMETYPE="application/vnd.crick.clicker.keyboard"  ;;
	clkp )  MIMETYPE="application/vnd.crick.clicker.palette"  ;;
	clkt )  MIMETYPE="application/vnd.crick.clicker.template"  ;;
	clkw )  MIMETYPE="application/vnd.crick.clicker.wordbank"  ;;
	wbs )  MIMETYPE="application/vnd.criticaltools.wbs+xml"  ;;
	pml )  MIMETYPE="application/vnd.ctc-posml"  ;;
	ppd )  MIMETYPE="application/vnd.cups-ppd"  ;;
	car )  MIMETYPE="application/vnd.curl.car"  ;;
	pcurl )  MIMETYPE="application/vnd.curl.pcurl"  ;;
	dart )  MIMETYPE="application/vnd.dart"  ;;
	rdz )  MIMETYPE="application/vnd.data-vision.rdz"  ;;
	uvf|uvvf|uvd|uvvd )  MIMETYPE="application/vnd.dece.data"  ;;
	uvt|uvvt )  MIMETYPE="application/vnd.dece.ttml+xml"  ;;
	uvx|uvvx )  MIMETYPE="application/vnd.dece.unspecified"  ;;
	uvz|uvvz )  MIMETYPE="application/vnd.dece.zip"  ;;
	fe_launch )  MIMETYPE="application/vnd.denovo.fcselayout-link"  ;;
	dna )  MIMETYPE="application/vnd.dna"  ;;
	mlp )  MIMETYPE="application/vnd.dolby.mlp"  ;;
	dpg )  MIMETYPE="application/vnd.dpgraph"  ;;
	dfac )  MIMETYPE="application/vnd.dreamfactory"  ;;
	kpxx )  MIMETYPE="application/vnd.ds-keypoint"  ;;
	ait )  MIMETYPE="application/vnd.dvb.ait"  ;;
	svc )  MIMETYPE="application/vnd.dvb.service"  ;;
	geo )  MIMETYPE="application/vnd.dynageo"  ;;
	mag )  MIMETYPE="application/vnd.ecowin.chart"  ;;
	nml )  MIMETYPE="application/vnd.enliven"  ;;
	esf )  MIMETYPE="application/vnd.epson.esf"  ;;
	msf )  MIMETYPE="application/vnd.epson.msf"  ;;
	qam )  MIMETYPE="application/vnd.epson.quickanime"  ;;
	slt )  MIMETYPE="application/vnd.epson.salt"  ;;
	ssf )  MIMETYPE="application/vnd.epson.ssf"  ;;
	es3|et3 )  MIMETYPE="application/vnd.eszigno3+xml"  ;;
	ez2 )  MIMETYPE="application/vnd.ezpix-album"  ;;
	ez3 )  MIMETYPE="application/vnd.ezpix-package"  ;;
	fdf )  MIMETYPE="application/vnd.fdf"  ;;
	mseed )  MIMETYPE="application/vnd.fdsn.mseed"  ;;
	seed|dataless )  MIMETYPE="application/vnd.fdsn.seed"  ;;
	gph )  MIMETYPE="application/vnd.flographit"  ;;
	ftc )  MIMETYPE="application/vnd.fluxtime.clip"  ;;
	fm|frame|maker|book )  MIMETYPE="application/vnd.framemaker"  ;;
	fnc )  MIMETYPE="application/vnd.frogans.fnc"  ;;
	ltf )  MIMETYPE="application/vnd.frogans.ltf"  ;;
	fsc )  MIMETYPE="application/vnd.fsc.weblaunch"  ;;
	oas )  MIMETYPE="application/vnd.fujitsu.oasys"  ;;
	oa2 )  MIMETYPE="application/vnd.fujitsu.oasys2"  ;;
	oa3 )  MIMETYPE="application/vnd.fujitsu.oasys3"  ;;
	fg5 )  MIMETYPE="application/vnd.fujitsu.oasysgp"  ;;
	bh2 )  MIMETYPE="application/vnd.fujitsu.oasysprs"  ;;
	ddd )  MIMETYPE="application/vnd.fujixerox.ddd"  ;;
	xdw )  MIMETYPE="application/vnd.fujixerox.docuworks"  ;;
	xbd )  MIMETYPE="application/vnd.fujixerox.docuworks.binder"  ;;
	fzs )  MIMETYPE="application/vnd.fuzzysheet"  ;;
	txd )  MIMETYPE="application/vnd.genomatix.tuxedo"  ;;
	ggb )  MIMETYPE="application/vnd.geogebra.file"  ;;
	ggt )  MIMETYPE="application/vnd.geogebra.tool"  ;;
	gex|gre )  MIMETYPE="application/vnd.geometry-explorer"  ;;
	gxt )  MIMETYPE="application/vnd.geonext"  ;;
	g2w )  MIMETYPE="application/vnd.geoplan"  ;;
	g3w )  MIMETYPE="application/vnd.geospace"  ;;
	gmx )  MIMETYPE="application/vnd.gmx"  ;;
	kml )  MIMETYPE="application/vnd.google-earth.kml+xml"  ;;
	kmz )  MIMETYPE="application/vnd.google-earth.kmz"  ;;
	gqf|gqs )  MIMETYPE="application/vnd.grafeq"  ;;
	gac )  MIMETYPE="application/vnd.groove-account"  ;;
	ghf )  MIMETYPE="application/vnd.groove-help"  ;;
	gim )  MIMETYPE="application/vnd.groove-identity-message"  ;;
	grv )  MIMETYPE="application/vnd.groove-injector"  ;;
	gtm )  MIMETYPE="application/vnd.groove-tool-message"  ;;
	tpl )  MIMETYPE="application/vnd.groove-tool-template"  ;;
	vcg )  MIMETYPE="application/vnd.groove-vcard"  ;;
	hal )  MIMETYPE="application/vnd.hal+xml"  ;;
	zmm )  MIMETYPE="application/vnd.handheld-entertainment+xml"  ;;
	hbci )  MIMETYPE="application/vnd.hbci"  ;;
	les )  MIMETYPE="application/vnd.hhe.lesson-player"  ;;
	hpgl )  MIMETYPE="application/vnd.hp-hpgl"  ;;
	hpid )  MIMETYPE="application/vnd.hp-hpid"  ;;
	hps )  MIMETYPE="application/vnd.hp-hps"  ;;
	jlt )  MIMETYPE="application/vnd.hp-jlyt"  ;;
	pcl )  MIMETYPE="application/vnd.hp-pcl"  ;;
	pclxl )  MIMETYPE="application/vnd.hp-pclxl"  ;;
	sfd-hdstx )  MIMETYPE="application/vnd.hydrostatix.sof-data"  ;;
	mpy )  MIMETYPE="application/vnd.ibm.minipay"  ;;
	afp|listafp|list3820 )  MIMETYPE="application/vnd.ibm.modcap"  ;;
	irm )  MIMETYPE="application/vnd.ibm.rights-management"  ;;
	sc )  MIMETYPE="application/vnd.ibm.secure-container"  ;;
	icc|icm )  MIMETYPE="application/vnd.iccprofile"  ;;
	igl )  MIMETYPE="application/vnd.igloader"  ;;
	ivp )  MIMETYPE="application/vnd.immervision-ivp"  ;;
	ivu )  MIMETYPE="application/vnd.immervision-ivu"  ;;
	igm )  MIMETYPE="application/vnd.insors.igm"  ;;
	xpw|xpx )  MIMETYPE="application/vnd.intercon.formnet"  ;;
	i2g )  MIMETYPE="application/vnd.intergeo"  ;;
	qbo )  MIMETYPE="application/vnd.intu.qbo"  ;;
	qfx )  MIMETYPE="application/vnd.intu.qfx"  ;;
	rcprofile )  MIMETYPE="application/vnd.ipunplugged.rcprofile"  ;;
	irp )  MIMETYPE="application/vnd.irepository.package+xml"  ;;
	xpr )  MIMETYPE="application/vnd.is-xpr"  ;;
	fcs )  MIMETYPE="application/vnd.isac.fcs"  ;;
	jam )  MIMETYPE="application/vnd.jam"  ;;
	rms )  MIMETYPE="application/vnd.jcp.javame.midlet-rms"  ;;
	jisp )  MIMETYPE="application/vnd.jisp"  ;;
	joda )  MIMETYPE="application/vnd.joost.joda-archive"  ;;
	ktz|ktr )  MIMETYPE="application/vnd.kahootz"  ;;
	karbon )  MIMETYPE="application/vnd.kde.karbon"  ;;
	chrt )  MIMETYPE="application/vnd.kde.kchart"  ;;
	kfo )  MIMETYPE="application/vnd.kde.kformula"  ;;
	flw )  MIMETYPE="application/vnd.kde.kivio"  ;;
	kon )  MIMETYPE="application/vnd.kde.kontour"  ;;
	kpr|kpt )  MIMETYPE="application/vnd.kde.kpresenter"  ;;
	ksp )  MIMETYPE="application/vnd.kde.kspread"  ;;
	kwd|kwt )  MIMETYPE="application/vnd.kde.kword"  ;;
	htke )  MIMETYPE="application/vnd.kenameaapp"  ;;
	kia )  MIMETYPE="application/vnd.kidspiration"  ;;
	kne|knp )  MIMETYPE="application/vnd.kinar"  ;;
	skp|skd|skt|skm )  MIMETYPE="application/vnd.koan"  ;;
	sse )  MIMETYPE="application/vnd.kodak-descriptor"  ;;
	lasxml )  MIMETYPE="application/vnd.las.las+xml"  ;;
	lbd )  MIMETYPE="application/vnd.llamagraphics.life-balance.desktop"  ;;
	lbe )  MIMETYPE="application/vnd.llamagraphics.life-balance.exchange+xml"  ;;
	123 )  MIMETYPE="application/vnd.lotus-1-2-3"  ;;
	apr )  MIMETYPE="application/vnd.lotus-approach"  ;;
	pre )  MIMETYPE="application/vnd.lotus-freelance"  ;;
	nsf )  MIMETYPE="application/vnd.lotus-notes"  ;;
	org )  MIMETYPE="application/vnd.lotus-organizer"  ;;
	scm )  MIMETYPE="application/vnd.lotus-screencam"  ;;
	lwp )  MIMETYPE="application/vnd.lotus-wordpro"  ;;
	portpkg )  MIMETYPE="application/vnd.macports.portpkg"  ;;
	mcd )  MIMETYPE="application/vnd.mcd"  ;;
	mc1 )  MIMETYPE="application/vnd.medcalcdata"  ;;
	cdkey )  MIMETYPE="application/vnd.mediastation.cdkey"  ;;
	mwf )  MIMETYPE="application/vnd.mfer"  ;;
	mfm )  MIMETYPE="application/vnd.mfmp"  ;;
	flo )  MIMETYPE="application/vnd.micrografx.flo"  ;;
	igx )  MIMETYPE="application/vnd.micrografx.igx"  ;;
	mif )  MIMETYPE="application/vnd.mif"  ;;
	daf )  MIMETYPE="application/vnd.mobius.daf"  ;;
	dis )  MIMETYPE="application/vnd.mobius.dis"  ;;
	mbk )  MIMETYPE="application/vnd.mobius.mbk"  ;;
	mqy )  MIMETYPE="application/vnd.mobius.mqy"  ;;
	msl )  MIMETYPE="application/vnd.mobius.msl"  ;;
	plc )  MIMETYPE="application/vnd.mobius.plc"  ;;
	txf )  MIMETYPE="application/vnd.mobius.txf"  ;;
	mpn )  MIMETYPE="application/vnd.mophun.application"  ;;
	mpc )  MIMETYPE="application/vnd.mophun.certificate"  ;;
	xul )  MIMETYPE="application/vnd.mozilla.xul+xml"  ;;
	cil )  MIMETYPE="application/vnd.ms-artgalry"  ;;
	cab )  MIMETYPE="application/vnd.ms-cab-compressed"  ;;
	xls|xlm|xla|xlc|xlt|xlw )  MIMETYPE="application/vnd.ms-excel"  ;;
	xlam )  MIMETYPE="application/vnd.ms-excel.addin.macroenabled.12"  ;;
	xlsb )  MIMETYPE="application/vnd.ms-excel.sheet.binary.macroenabled.12"  ;;
	xlsm )  MIMETYPE="application/vnd.ms-excel.sheet.macroenabled.12"  ;;
	xltm )  MIMETYPE="application/vnd.ms-excel.template.macroenabled.12"  ;;
	eot )  MIMETYPE="application/vnd.ms-fontobject"  ;;
	chm )  MIMETYPE="application/vnd.ms-htmlhelp"  ;;
	ims )  MIMETYPE="application/vnd.ms-ims"  ;;
	lrm )  MIMETYPE="application/vnd.ms-lrm"  ;;
	thmx )  MIMETYPE="application/vnd.ms-officetheme"  ;;
	cat )  MIMETYPE="application/vnd.ms-pki.seccat"  ;;
	stl )  MIMETYPE="application/vnd.ms-pki.stl"  ;;
	ppt|pps|pot )  MIMETYPE="application/vnd.ms-powerpoint"  ;;
	ppam )  MIMETYPE="application/vnd.ms-powerpoint.addin.macroenabled.12"  ;;
	pptm )  MIMETYPE="application/vnd.ms-powerpoint.presentation.macroenabled.12"  ;;
	sldm )  MIMETYPE="application/vnd.ms-powerpoint.slide.macroenabled.12"  ;;
	ppsm )  MIMETYPE="application/vnd.ms-powerpoint.slideshow.macroenabled.12"  ;;
	potm )  MIMETYPE="application/vnd.ms-powerpoint.template.macroenabled.12"  ;;
	mpp|mpt )  MIMETYPE="application/vnd.ms-project"  ;;
	docm )  MIMETYPE="application/vnd.ms-word.document.macroenabled.12"  ;;
	dotm )  MIMETYPE="application/vnd.ms-word.template.macroenabled.12"  ;;
	wps|wks|wcm|wdb )  MIMETYPE="application/vnd.ms-works"  ;;
	wpl )  MIMETYPE="application/vnd.ms-wpl"  ;;
	xps )  MIMETYPE="application/vnd.ms-xpsdocument"  ;;
	mseq )  MIMETYPE="application/vnd.mseq"  ;;
	mus )  MIMETYPE="application/vnd.musician"  ;;
	msty )  MIMETYPE="application/vnd.muvee.style"  ;;
	taglet )  MIMETYPE="application/vnd.mynfc"  ;;
	nlu )  MIMETYPE="application/vnd.neurolanguage.nlu"  ;;
	ntf|nitf )  MIMETYPE="application/vnd.nitf"  ;;
	nnd )  MIMETYPE="application/vnd.noblenet-directory"  ;;
	nns )  MIMETYPE="application/vnd.noblenet-sealer"  ;;
	nnw )  MIMETYPE="application/vnd.noblenet-web"  ;;
	ngdat )  MIMETYPE="application/vnd.nokia.n-gage.data"  ;;
	n-gage )  MIMETYPE="application/vnd.nokia.n-gage.symbian.install"  ;;
	rpst )  MIMETYPE="application/vnd.nokia.radio-preset"  ;;
	rpss )  MIMETYPE="application/vnd.nokia.radio-presets"  ;;
	edm )  MIMETYPE="application/vnd.novadigm.edm"  ;;
	edx )  MIMETYPE="application/vnd.novadigm.edx"  ;;
	ext )  MIMETYPE="application/vnd.novadigm.ext"  ;;
	odc )  MIMETYPE="application/vnd.oasis.opendocument.chart"  ;;
	otc )  MIMETYPE="application/vnd.oasis.opendocument.chart-template"  ;;
	odb )  MIMETYPE="application/vnd.oasis.opendocument.database"  ;;
	odf )  MIMETYPE="application/vnd.oasis.opendocument.formula"  ;;
	odft )  MIMETYPE="application/vnd.oasis.opendocument.formula-template"  ;;
	odg )  MIMETYPE="application/vnd.oasis.opendocument.graphics"  ;;
	otg )  MIMETYPE="application/vnd.oasis.opendocument.graphics-template"  ;;
	odi )  MIMETYPE="application/vnd.oasis.opendocument.image"  ;;
	oti )  MIMETYPE="application/vnd.oasis.opendocument.image-template"  ;;
	odp )  MIMETYPE="application/vnd.oasis.opendocument.presentation"  ;;
	otp )  MIMETYPE="application/vnd.oasis.opendocument.presentation-template"  ;;
	ods )  MIMETYPE="application/vnd.oasis.opendocument.spreadsheet"  ;;
	ots )  MIMETYPE="application/vnd.oasis.opendocument.spreadsheet-template"  ;;
	odt )  MIMETYPE="application/vnd.oasis.opendocument.text"  ;;
	odm )  MIMETYPE="application/vnd.oasis.opendocument.text-master"  ;;
	ott )  MIMETYPE="application/vnd.oasis.opendocument.text-template"  ;;
	oth )  MIMETYPE="application/vnd.oasis.opendocument.text-web"  ;;
	xo )  MIMETYPE="application/vnd.olpc-sugar"  ;;
	dd2 )  MIMETYPE="application/vnd.oma.dd2+xml"  ;;
	oxt )  MIMETYPE="application/vnd.openofficeorg.extension"  ;;
	pptx )  MIMETYPE="application/vnd.openxmlformats-officedocument.presentationml.presentation"  ;;
	sldx )  MIMETYPE="application/vnd.openxmlformats-officedocument.presentationml.slide"  ;;
	ppsx )  MIMETYPE="application/vnd.openxmlformats-officedocument.presentationml.slideshow"  ;;
	potx )  MIMETYPE="application/vnd.openxmlformats-officedocument.presentationml.template"  ;;
	xlsx )  MIMETYPE="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"  ;;
	xltx )  MIMETYPE="application/vnd.openxmlformats-officedocument.spreadsheetml.template"  ;;
	docx )  MIMETYPE="application/vnd.openxmlformats-officedocument.wordprocessingml.document"  ;;
	dotx )  MIMETYPE="application/vnd.openxmlformats-officedocument.wordprocessingml.template"  ;;
	mgp )  MIMETYPE="application/vnd.osgeo.mapguide.package"  ;;
	dp )  MIMETYPE="application/vnd.osgi.dp"  ;;
	esa )  MIMETYPE="application/vnd.osgi.subsystem"  ;;
	pdb|pqa|oprc )  MIMETYPE="application/vnd.palm"  ;;
	paw )  MIMETYPE="application/vnd.pawaafile"  ;;
	str )  MIMETYPE="application/vnd.pg.format"  ;;
	ei6 )  MIMETYPE="application/vnd.pg.osasli"  ;;
	efif )  MIMETYPE="application/vnd.picsel"  ;;
	wg )  MIMETYPE="application/vnd.pmi.widget"  ;;
	plf )  MIMETYPE="application/vnd.pocketlearn"  ;;
	pbd )  MIMETYPE="application/vnd.powerbuilder6"  ;;
	box )  MIMETYPE="application/vnd.previewsystems.box"  ;;
	mgz )  MIMETYPE="application/vnd.proteus.magazine"  ;;
	qps )  MIMETYPE="application/vnd.publishare-delta-tree"  ;;
	ptid )  MIMETYPE="application/vnd.pvi.ptid1"  ;;
	qxd|qxt|qwd|qwt|qxl|qxb )  MIMETYPE="application/vnd.quark.quarkxpress"  ;;
	bed )  MIMETYPE="application/vnd.realvnc.bed"  ;;
	mxl )  MIMETYPE="application/vnd.recordare.musicxml"  ;;
	musicxml )  MIMETYPE="application/vnd.recordare.musicxml+xml"  ;;
	cryptonote )  MIMETYPE="application/vnd.rig.cryptonote"  ;;
	cod )  MIMETYPE="application/vnd.rim.cod"  ;;
	rm )  MIMETYPE="application/vnd.rn-realmedia"  ;;
	rmvb )  MIMETYPE="application/vnd.rn-realmedia-vbr"  ;;
	link66 )  MIMETYPE="application/vnd.route66.link66+xml"  ;;
	st )  MIMETYPE="application/vnd.sailingtracker.track"  ;;
	see )  MIMETYPE="application/vnd.seemail"  ;;
	sema )  MIMETYPE="application/vnd.sema"  ;;
	semd )  MIMETYPE="application/vnd.semd"  ;;
	semf )  MIMETYPE="application/vnd.semf"  ;;
	ifm )  MIMETYPE="application/vnd.shana.informed.formdata"  ;;
	itp )  MIMETYPE="application/vnd.shana.informed.formtemplate"  ;;
	iif )  MIMETYPE="application/vnd.shana.informed.interchange"  ;;
	ipk )  MIMETYPE="application/vnd.shana.informed.package"  ;;
	twd|twds )  MIMETYPE="application/vnd.simtech-mindmapper"  ;;
	mmf )  MIMETYPE="application/vnd.smaf"  ;;
	teacher )  MIMETYPE="application/vnd.smart.teacher"  ;;
	sdkm|sdkd )  MIMETYPE="application/vnd.solent.sdkm+xml"  ;;
	dxp )  MIMETYPE="application/vnd.spotfire.dxp"  ;;
	sfs )  MIMETYPE="application/vnd.spotfire.sfs"  ;;
	sdc )  MIMETYPE="application/vnd.stardivision.calc"  ;;
	sda )  MIMETYPE="application/vnd.stardivision.draw"  ;;
	sdd )  MIMETYPE="application/vnd.stardivision.impress"  ;;
	smf )  MIMETYPE="application/vnd.stardivision.math"  ;;
	sdw|vor )  MIMETYPE="application/vnd.stardivision.writer"  ;;
	sgl )  MIMETYPE="application/vnd.stardivision.writer-global"  ;;
	smzip )  MIMETYPE="application/vnd.stepmania.package"  ;;
	sm )  MIMETYPE="application/vnd.stepmania.stepchart"  ;;
	sxc )  MIMETYPE="application/vnd.sun.xml.calc"  ;;
	stc )  MIMETYPE="application/vnd.sun.xml.calc.template"  ;;
	sxd )  MIMETYPE="application/vnd.sun.xml.draw"  ;;
	std )  MIMETYPE="application/vnd.sun.xml.draw.template"  ;;
	sxi )  MIMETYPE="application/vnd.sun.xml.impress"  ;;
	sti )  MIMETYPE="application/vnd.sun.xml.impress.template"  ;;
	sxm )  MIMETYPE="application/vnd.sun.xml.math"  ;;
	sxw )  MIMETYPE="application/vnd.sun.xml.writer"  ;;
	sxg )  MIMETYPE="application/vnd.sun.xml.writer.global"  ;;
	stw )  MIMETYPE="application/vnd.sun.xml.writer.template"  ;;
	sus|susp )  MIMETYPE="application/vnd.sus-calendar"  ;;
	svd )  MIMETYPE="application/vnd.svd"  ;;
	sis|sisx )  MIMETYPE="application/vnd.symbian.install"  ;;
	xsm )  MIMETYPE="application/vnd.syncml+xml"  ;;
	bdm )  MIMETYPE="application/vnd.syncml.dm+wbxml"  ;;
	xdm )  MIMETYPE="application/vnd.syncml.dm+xml"  ;;
	tao )  MIMETYPE="application/vnd.tao.intent-module-archive"  ;;
	pcap|cap|dmp )  MIMETYPE="application/vnd.tcpdump.pcap"  ;;
	tmo )  MIMETYPE="application/vnd.tmobile-livetv"  ;;
	tpt )  MIMETYPE="application/vnd.trid.tpt"  ;;
	mxs )  MIMETYPE="application/vnd.triscape.mxs"  ;;
	tra )  MIMETYPE="application/vnd.trueapp"  ;;
	ufd|ufdl )  MIMETYPE="application/vnd.ufdl"  ;;
	utz )  MIMETYPE="application/vnd.uiq.theme"  ;;
	umj )  MIMETYPE="application/vnd.umajin"  ;;
	unityweb )  MIMETYPE="application/vnd.unity"  ;;
	uoml )  MIMETYPE="application/vnd.uoml+xml"  ;;
	vcx )  MIMETYPE="application/vnd.vcx"  ;;
	vsd|vst|vss|vsw )  MIMETYPE="application/vnd.visio"  ;;
	vis )  MIMETYPE="application/vnd.visionary"  ;;
	vsf )  MIMETYPE="application/vnd.vsf"  ;;
	wbxml )  MIMETYPE="application/vnd.wap.wbxml"  ;;
	wmlc )  MIMETYPE="application/vnd.wap.wmlc"  ;;
	wmlsc )  MIMETYPE="application/vnd.wap.wmlscriptc"  ;;
	wtb )  MIMETYPE="application/vnd.webturbo"  ;;
	nbp )  MIMETYPE="application/vnd.wolfram.player"  ;;
	wpd )  MIMETYPE="application/vnd.wordperfect"  ;;
	wqd )  MIMETYPE="application/vnd.wqd"  ;;
	stf )  MIMETYPE="application/vnd.wt.stf"  ;;
	xar )  MIMETYPE="application/vnd.xara"  ;;
	xfdl )  MIMETYPE="application/vnd.xfdl"  ;;
	hvd )  MIMETYPE="application/vnd.yamaha.hv-dic"  ;;
	hvs )  MIMETYPE="application/vnd.yamaha.hv-script"  ;;
	hvp )  MIMETYPE="application/vnd.yamaha.hv-voice"  ;;
	osf )  MIMETYPE="application/vnd.yamaha.openscoreformat"  ;;
	osfpvg )  MIMETYPE="application/vnd.yamaha.openscoreformat.osfpvg+xml"  ;;
	saf )  MIMETYPE="application/vnd.yamaha.smaf-audio"  ;;
	spf )  MIMETYPE="application/vnd.yamaha.smaf-phrase"  ;;
	cmp )  MIMETYPE="application/vnd.yellowriver-custom-menu"  ;;
	zir|zirz )  MIMETYPE="application/vnd.zul"  ;;
	zaz )  MIMETYPE="application/vnd.zzazz.deck+xml"  ;;
	vxml )  MIMETYPE="application/voicexml+xml"  ;;
	wgt )  MIMETYPE="application/widget"  ;;
	hlp )  MIMETYPE="application/winhlp"  ;;
	wsdl )  MIMETYPE="application/wsdl+xml"  ;;
	wspolicy )  MIMETYPE="application/wspolicy+xml"  ;;
	7z )  MIMETYPE="application/x-7z-compressed"  ;;
	abw )  MIMETYPE="application/x-abiword"  ;;
	ace )  MIMETYPE="application/x-ace-compressed"  ;;
	dmg )  MIMETYPE="application/x-apple-diskimage"  ;;
	aab|x32|u32|vox )  MIMETYPE="application/x-authorware-bin"  ;;
	aam )  MIMETYPE="application/x-authorware-map"  ;;
	aas )  MIMETYPE="application/x-authorware-seg"  ;;
	bcpio )  MIMETYPE="application/x-bcpio"  ;;
	torrent )  MIMETYPE="application/x-bittorrent"  ;;
	blb|blorb )  MIMETYPE="application/x-blorb"  ;;
	bz )  MIMETYPE="application/x-bzip"  ;;
	bz2|boz )  MIMETYPE="application/x-bzip2"  ;;
	cbr|cba|cbt|cbz|cb7 )  MIMETYPE="application/x-cbr"  ;;
	vcd )  MIMETYPE="application/x-cdlink"  ;;
	cfs )  MIMETYPE="application/x-cfs-compressed"  ;;
	chat )  MIMETYPE="application/x-chat"  ;;
	pgn )  MIMETYPE="application/x-chess-pgn"  ;;
	nsc )  MIMETYPE="application/x-conference"  ;;
	cpio )  MIMETYPE="application/x-cpio"  ;;
	csh )  MIMETYPE="application/x-csh"  ;;
	deb|udeb )  MIMETYPE="application/x-debian-package"  ;;
	dgc )  MIMETYPE="application/x-dgc-compressed"  ;;
	dir|dcr|dxr|cst|cct|cxt|w3d|fgd|swa )  MIMETYPE="application/x-director"  ;;
	wad )  MIMETYPE="application/x-doom"  ;;
	ncx )  MIMETYPE="application/x-dtbncx+xml"  ;;
	dtb )  MIMETYPE="application/x-dtbook+xml"  ;;
	res )  MIMETYPE="application/x-dtbresource+xml"  ;;
	dvi )  MIMETYPE="application/x-dvi"  ;;
	evy )  MIMETYPE="application/x-envoy"  ;;
	eva )  MIMETYPE="application/x-eva"  ;;
	bdf )  MIMETYPE="application/x-font-bdf"  ;;
	gsf )  MIMETYPE="application/x-font-ghostscript"  ;;
	psf )  MIMETYPE="application/x-font-linux-psf"  ;;
	otf )  MIMETYPE="application/x-font-otf"  ;;
	pcf )  MIMETYPE="application/x-font-pcf"  ;;
	snf )  MIMETYPE="application/x-font-snf"  ;;
	ttf|ttc )  MIMETYPE="application/x-font-ttf"  ;;
	pfa|pfb|pfm|afm )  MIMETYPE="application/x-font-type1"  ;;
	arc )  MIMETYPE="application/x-freearc"  ;;
	spl )  MIMETYPE="application/x-futuresplash"  ;;
	gca )  MIMETYPE="application/x-gca-compressed"  ;;
	ulx )  MIMETYPE="application/x-glulx"  ;;
	gnumeric )  MIMETYPE="application/x-gnumeric"  ;;
	gramps )  MIMETYPE="application/x-gramps-xml"  ;;
	gtar )  MIMETYPE="application/x-gtar"  ;;
	hdf )  MIMETYPE="application/x-hdf"  ;;
	install )  MIMETYPE="application/x-install-instructions"  ;;
	iso )  MIMETYPE="application/x-iso9660-image"  ;;
	jnlp )  MIMETYPE="application/x-java-jnlp-file"  ;;
	latex )  MIMETYPE="application/x-latex"  ;;
	lzh|lha )  MIMETYPE="application/x-lzh-compressed"  ;;
	mie )  MIMETYPE="application/x-mie"  ;;
	prc|mobi )  MIMETYPE="application/x-mobipocket-ebook"  ;;
	application )  MIMETYPE="application/x-ms-application"  ;;
	lnk )  MIMETYPE="application/x-ms-shortcut"  ;;
	wmd )  MIMETYPE="application/x-ms-wmd"  ;;
	wmz )  MIMETYPE="application/x-ms-wmz"  ;;
	xbap )  MIMETYPE="application/x-ms-xbap"  ;;
	mdb )  MIMETYPE="application/x-msaccess"  ;;
	obd )  MIMETYPE="application/x-msbinder"  ;;
	crd )  MIMETYPE="application/x-mscardfile"  ;;
	clp )  MIMETYPE="application/x-msclip"  ;;
	exe|dll|com|bat|msi )  MIMETYPE="application/x-msdownload"  ;;
	mvb|m13|m14 )  MIMETYPE="application/x-msmediaview"  ;;
	wmf|wmz|emf|emz )  MIMETYPE="application/x-msmetafile"  ;;
	mny )  MIMETYPE="application/x-msmoney"  ;;
	pub )  MIMETYPE="application/x-mspublisher"  ;;
	scd )  MIMETYPE="application/x-msschedule"  ;;
	trm )  MIMETYPE="application/x-msterminal"  ;;
	wri )  MIMETYPE="application/x-mswrite"  ;;
	nc|cdf )  MIMETYPE="application/x-netcdf"  ;;
	nzb )  MIMETYPE="application/x-nzb"  ;;
	p12|pfx )  MIMETYPE="application/x-pkcs12"  ;;
	p7b|spc )  MIMETYPE="application/x-pkcs7-certificates"  ;;
	p7r )  MIMETYPE="application/x-pkcs7-certreqresp"  ;;
	rar )  MIMETYPE="application/x-rar-compressed"  ;;
	ris )  MIMETYPE="application/x-research-info-systems"  ;;
	sh )  MIMETYPE="application/x-sh"  ;;
	shar )  MIMETYPE="application/x-shar"  ;;
	swf )  MIMETYPE="application/x-shockwave-flash"  ;;
	xap )  MIMETYPE="application/x-silverlight-app"  ;;
	sql )  MIMETYPE="application/x-sql"  ;;
	sit )  MIMETYPE="application/x-stuffit"  ;;
	sitx )  MIMETYPE="application/x-stuffitx"  ;;
	srt )  MIMETYPE="application/x-subrip"  ;;
	sv4cpio )  MIMETYPE="application/x-sv4cpio"  ;;
	sv4crc )  MIMETYPE="application/x-sv4crc"  ;;
	t3 )  MIMETYPE="application/x-t3vm-image"  ;;
	gam )  MIMETYPE="application/x-tads"  ;;
	tar )  MIMETYPE="application/x-tar"  ;;
	tcl )  MIMETYPE="application/x-tcl"  ;;
	tex )  MIMETYPE="application/x-tex"  ;;
	tfm )  MIMETYPE="application/x-tex-tfm"  ;;
	texinfo|texi )  MIMETYPE="application/x-texinfo"  ;;
	obj )  MIMETYPE="application/x-tgif"  ;;
	ustar )  MIMETYPE="application/x-ustar"  ;;
	src )  MIMETYPE="application/x-wais-source"  ;;
	der|crt )  MIMETYPE="application/x-x509-ca-cert"  ;;
	fig )  MIMETYPE="application/x-xfig"  ;;
	xlf )  MIMETYPE="application/x-xliff+xml"  ;;
	xpi )  MIMETYPE="application/x-xpinstall"  ;;
	xz )  MIMETYPE="application/x-xz"  ;;
	z1|z2|z3|z4|z5|z6|z7|z8 )  MIMETYPE="application/x-zmachine"  ;;
	xaml )  MIMETYPE="application/xaml+xml"  ;;
	xdf )  MIMETYPE="application/xcap-diff+xml"  ;;
	xenc )  MIMETYPE="application/xenc+xml"  ;;
	xhtml|xht )  MIMETYPE="application/xhtml+xml"  ;;
	xml|xsl )  MIMETYPE="application/xml"  ;;
	dtd )  MIMETYPE="application/xml-dtd"  ;;
	xop )  MIMETYPE="application/xop+xml"  ;;
	xpl )  MIMETYPE="application/xproc+xml"  ;;
	xslt )  MIMETYPE="application/xslt+xml"  ;;
	xspf )  MIMETYPE="application/xspf+xml"  ;;
	mxml|xhvml|xvml|xvm )  MIMETYPE="application/xv+xml"  ;;
	yang )  MIMETYPE="application/yang"  ;;
	yin )  MIMETYPE="application/yin+xml"  ;;
	zip )  MIMETYPE="application/zip"  ;;
	adp )  MIMETYPE="audio/adpcm"  ;;
	au|snd )  MIMETYPE="audio/basic"  ;;
	mid|midi|kar|rmi )  MIMETYPE="audio/midi"  ;;
	m4a|mp4a )  MIMETYPE="audio/mp4"  ;;
	mpga|mp2|mp2a|mp3|m2a|m3a )  MIMETYPE="audio/mpeg"  ;;
	oga|ogg|spx )  MIMETYPE="audio/ogg"  ;;
	s3m )  MIMETYPE="audio/s3m"  ;;
	sil )  MIMETYPE="audio/silk"  ;;
	uva|uvva )  MIMETYPE="audio/vnd.dece.audio"  ;;
	eol )  MIMETYPE="audio/vnd.digital-winds"  ;;
	dra )  MIMETYPE="audio/vnd.dra"  ;;
	dts )  MIMETYPE="audio/vnd.dts"  ;;
	dtshd )  MIMETYPE="audio/vnd.dts.hd"  ;;
	lvp )  MIMETYPE="audio/vnd.lucent.voice"  ;;
	pya )  MIMETYPE="audio/vnd.ms-playready.media.pya"  ;;
	ecelp4800 )  MIMETYPE="audio/vnd.nuera.ecelp4800"  ;;
	ecelp7470 )  MIMETYPE="audio/vnd.nuera.ecelp7470"  ;;
	ecelp9600 )  MIMETYPE="audio/vnd.nuera.ecelp9600"  ;;
	rip )  MIMETYPE="audio/vnd.rip"  ;;
	weba )  MIMETYPE="audio/webm"  ;;
	aac )  MIMETYPE="audio/x-aac"  ;;
	aif|aiff|aifc )  MIMETYPE="audio/x-aiff"  ;;
	caf )  MIMETYPE="audio/x-caf"  ;;
	flac )  MIMETYPE="audio/x-flac"  ;;
	mka )  MIMETYPE="audio/x-matroska"  ;;
	m3u )  MIMETYPE="audio/x-mpegurl"  ;;
	wax )  MIMETYPE="audio/x-ms-wax"  ;;
	wma )  MIMETYPE="audio/x-ms-wma"  ;;
	ram|ra )  MIMETYPE="audio/x-pn-realaudio"  ;;
	rmp )  MIMETYPE="audio/x-pn-realaudio-plugin"  ;;
	wav )  MIMETYPE="audio/x-wav"  ;;
	xm )  MIMETYPE="audio/xm"  ;;
	cdx )  MIMETYPE="chemical/x-cdx"  ;;
	cif )  MIMETYPE="chemical/x-cif"  ;;
	cmdf )  MIMETYPE="chemical/x-cmdf"  ;;
	cml )  MIMETYPE="chemical/x-cml"  ;;
	csml )  MIMETYPE="chemical/x-csml"  ;;
	xyz )  MIMETYPE="chemical/x-xyz"  ;;
	bmp )  MIMETYPE="image/bmp"  ;;
	cgm )  MIMETYPE="image/cgm"  ;;
	g3 )  MIMETYPE="image/g3fax"  ;;
	gif )  MIMETYPE="image/gif"  ;;
	ief )  MIMETYPE="image/ief"  ;;
	jpeg|jpg|jpe )  MIMETYPE="image/jpeg"  ;;
	ktx )  MIMETYPE="image/ktx"  ;;
	png )  MIMETYPE="image/png"  ;;
	btif )  MIMETYPE="image/prs.btif"  ;;
	sgi )  MIMETYPE="image/sgi"  ;;
	svg|svgz )  MIMETYPE="image/svg+xml"  ;;
	tiff|tif )  MIMETYPE="image/tiff"  ;;
	psd )  MIMETYPE="image/vnd.adobe.photoshop"  ;;
	uvi|uvvi|uvg|uvvg )  MIMETYPE="image/vnd.dece.graphic"  ;;
	djvu|djv )  MIMETYPE="image/vnd.djvu"  ;;
	sub )  MIMETYPE="image/vnd.dvb.subtitle"  ;;
	dwg )  MIMETYPE="image/vnd.dwg"  ;;
	dxf )  MIMETYPE="image/vnd.dxf"  ;;
	fbs )  MIMETYPE="image/vnd.fastbidsheet"  ;;
	fpx )  MIMETYPE="image/vnd.fpx"  ;;
	fst )  MIMETYPE="image/vnd.fst"  ;;
	mmr )  MIMETYPE="image/vnd.fujixerox.edmics-mmr"  ;;
	rlc )  MIMETYPE="image/vnd.fujixerox.edmics-rlc"  ;;
	mdi )  MIMETYPE="image/vnd.ms-modi"  ;;
	wdp )  MIMETYPE="image/vnd.ms-photo"  ;;
	npx )  MIMETYPE="image/vnd.net-fpx"  ;;
	wbmp )  MIMETYPE="image/vnd.wap.wbmp"  ;;
	xif )  MIMETYPE="image/vnd.xiff"  ;;
	webp )  MIMETYPE="image/webp"  ;;
	3ds )  MIMETYPE="image/x-3ds"  ;;
	ras )  MIMETYPE="image/x-cmu-raster"  ;;
	cmx )  MIMETYPE="image/x-cmx"  ;;
	fh|fhc|fh4|fh5|fh7 )  MIMETYPE="image/x-freehand"  ;;
	ico )  MIMETYPE="image/x-icon"  ;;
	sid )  MIMETYPE="image/x-mrsid-image"  ;;
	pcx )  MIMETYPE="image/x-pcx"  ;;
	pic|pct )  MIMETYPE="image/x-pict"  ;;
	pnm )  MIMETYPE="image/x-portable-anymap"  ;;
	pbm )  MIMETYPE="image/x-portable-bitmap"  ;;
	pgm )  MIMETYPE="image/x-portable-graymap"  ;;
	ppm )  MIMETYPE="image/x-portable-pixmap"  ;;
	rgb )  MIMETYPE="image/x-rgb"  ;;
	tga )  MIMETYPE="image/x-tga"  ;;
	xbm )  MIMETYPE="image/x-xbitmap"  ;;
	xpm )  MIMETYPE="image/x-xpixmap"  ;;
	xwd )  MIMETYPE="image/x-xwindowdump"  ;;
	eml|mime )  MIMETYPE="message/rfc822"  ;;
	igs|iges )  MIMETYPE="model/iges"  ;;
	msh|mesh|silo )  MIMETYPE="model/mesh"  ;;
	dae )  MIMETYPE="model/vnd.collada+xml"  ;;
	dwf )  MIMETYPE="model/vnd.dwf"  ;;
	gdl )  MIMETYPE="model/vnd.gdl"  ;;
	gtw )  MIMETYPE="model/vnd.gtw"  ;;
	mts )  MIMETYPE="model/vnd.mts"  ;;
	vtu )  MIMETYPE="model/vnd.vtu"  ;;
	wrl|vrml )  MIMETYPE="model/vrml"  ;;
	x3db|x3dbz )  MIMETYPE="model/x3d+binary"  ;;
	x3dv|x3dvz )  MIMETYPE="model/x3d+vrml"  ;;
	x3d|x3dz )  MIMETYPE="model/x3d+xml"  ;;
	appcache )  MIMETYPE="text/cache-manifest"  ;;
	ics|ifb )  MIMETYPE="text/calendar"  ;;
	css )  MIMETYPE="text/css"  ;;
	csv )  MIMETYPE="text/csv"  ;;
	html|htm )  MIMETYPE="text/html"  ;;
	n3 )  MIMETYPE="text/n3"  ;;
	txt|text|conf|def|list|log|in )  MIMETYPE="text/plain"  ;;
	dsc )  MIMETYPE="text/prs.lines.tag"  ;;
	rtx )  MIMETYPE="text/richtext"  ;;
	sgml|sgm )  MIMETYPE="text/sgml"  ;;
	tsv )  MIMETYPE="text/tab-separated-values"  ;;
	t|tr|roff|man|me|ms )  MIMETYPE="text/troff"  ;;
	ttl )  MIMETYPE="text/turtle"  ;;
	uri|uris|urls )  MIMETYPE="text/uri-list"  ;;
	vcard )  MIMETYPE="text/vcard"  ;;
	curl )  MIMETYPE="text/vnd.curl"  ;;
	dcurl )  MIMETYPE="text/vnd.curl.dcurl"  ;;
	mcurl )  MIMETYPE="text/vnd.curl.mcurl"  ;;
	scurl )  MIMETYPE="text/vnd.curl.scurl"  ;;
	sub )  MIMETYPE="text/vnd.dvb.subtitle"  ;;
	fly )  MIMETYPE="text/vnd.fly"  ;;
	flx )  MIMETYPE="text/vnd.fmi.flexstor"  ;;
	gv )  MIMETYPE="text/vnd.graphviz"  ;;
	3dml )  MIMETYPE="text/vnd.in3d.3dml"  ;;
	spot )  MIMETYPE="text/vnd.in3d.spot"  ;;
	jad )  MIMETYPE="text/vnd.sun.j2me.app-descriptor"  ;;
	wml )  MIMETYPE="text/vnd.wap.wml"  ;;
	wmls )  MIMETYPE="text/vnd.wap.wmlscript"  ;;
	s|asm )  MIMETYPE="text/x-asm"  ;;
	c|cc|cxx|cpp|h|hh|dic )  MIMETYPE="text/x-c"  ;;
	f|for|f77|f90 )  MIMETYPE="text/x-fortran"  ;;
	java )  MIMETYPE="text/x-java-source"  ;;
	nfo )  MIMETYPE="text/x-nfo"  ;;
	opml )  MIMETYPE="text/x-opml"  ;;
	p|pas )  MIMETYPE="text/x-pascal"  ;;
	etx )  MIMETYPE="text/x-setext"  ;;
	sfv )  MIMETYPE="text/x-sfv"  ;;
	uu )  MIMETYPE="text/x-uuencode"  ;;
	vcs )  MIMETYPE="text/x-vcalendar"  ;;
	vcf )  MIMETYPE="text/x-vcard"  ;;
	3gp )  MIMETYPE="video/3gpp"  ;;
	3g2 )  MIMETYPE="video/3gpp2"  ;;
	h261 )  MIMETYPE="video/h261"  ;;
	h263 )  MIMETYPE="video/h263"  ;;
	h264 )  MIMETYPE="video/h264"  ;;
	jpgv )  MIMETYPE="video/jpeg"  ;;
	jpm|jpgm )  MIMETYPE="video/jpm"  ;;
	mj2|mjp2 )  MIMETYPE="video/mj2"  ;;
	mp4|mp4v|mpg4 )  MIMETYPE="video/mp4"  ;;
	mpeg|mpg|mpe|m1v|m2v )  MIMETYPE="video/mpeg"  ;;
	ogv )  MIMETYPE="video/ogg"  ;;
	qt|mov )  MIMETYPE="video/quicktime"  ;;
	uvh|uvvh )  MIMETYPE="video/vnd.dece.hd"  ;;
	uvm|uvvm )  MIMETYPE="video/vnd.dece.mobile"  ;;
	uvp|uvvp )  MIMETYPE="video/vnd.dece.pd"  ;;
	uvs|uvvs )  MIMETYPE="video/vnd.dece.sd"  ;;
	uvv|uvvv )  MIMETYPE="video/vnd.dece.video"  ;;
	dvb )  MIMETYPE="video/vnd.dvb.file"  ;;
	fvt )  MIMETYPE="video/vnd.fvt"  ;;
	mxu|m4u )  MIMETYPE="video/vnd.mpegurl"  ;;
	pyv )  MIMETYPE="video/vnd.ms-playready.media.pyv"  ;;
	uvu|uvvu )  MIMETYPE="video/vnd.uvvu.mp4"  ;;
	viv )  MIMETYPE="video/vnd.vivo"  ;;
	webm )  MIMETYPE="video/webm"  ;;
	f4v )  MIMETYPE="video/x-f4v"  ;;
	fli )  MIMETYPE="video/x-fli"  ;;
	flv )  MIMETYPE="video/x-flv"  ;;
	m4v )  MIMETYPE="video/x-m4v"  ;;
	mkv|mk3d|mks )  MIMETYPE="video/x-matroska"  ;;
	mng )  MIMETYPE="video/x-mng"  ;;
	asf|asx )  MIMETYPE="video/x-ms-asf"  ;;
	vob )  MIMETYPE="video/x-ms-vob"  ;;
	wm )  MIMETYPE="video/x-ms-wm"  ;;
	wmv )  MIMETYPE="video/x-ms-wmv"  ;;
	wmx )  MIMETYPE="video/x-ms-wmx"  ;;
	wvx )  MIMETYPE="video/x-ms-wvx"  ;;
	avi )  MIMETYPE="video/x-msvideo"  ;;
	movie )  MIMETYPE="video/x-sgi-movie"  ;;
	smv )  MIMETYPE="video/x-smv"  ;;
	ice )  MIMETYPE="x-conference/x-cooltalk"  ;;
	gz | tgz | dz )  MIMETYPE="application/x-gzip"  ;;
	bin|dms|lrf|mar|so|dist|distz|pkg|bpk|dump|elc|deploy )  MIMETYPE="application/octet-stream"  ;;
	"" )  MIMETYPE="text/plain"  ;;  # no extension 2FIX: not working?
	* )  MIMETYPE="application/octet-stream"  ;;  # unknown extension
esac

# NO? ALTERNATIVE PARSING /etc/mime.types | /etc/apache2/mime.types | /usr/share/...

INPUTFILE_HEADER=$(head -c 20 "$INPUTFILE" | strings)
# TODO: check hex header? http://en.wikipedia.org/wiki/List_of_file_signatures
case $INPUTFILE_HEADER in
	matroska* )  MIMETYPE="video/x-matroska" ;;
	ITSF* )  MIMETYPE="application/x-chm" ;;
	*DJV* )  MIMETYPE="image/vnd.djvu" ;;
	# ... <- /P/Documents/db/file
esac

if [ "$BRIEF_MODE" = "OFF" ]; then
	echo "$INPUTFILE: $MIMETYPE"
else
	echo "$MIMETYPE"
fi

exit 0
